


<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <link rel="shortcut icon" href="https://cdn.dusays.com/favicon.ico">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/grid.css">
    <script src="/js/app.js"></script>
    <script src="/js/srjs.js"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    
        <meta name="keywords" content="">
        
    
        <meta name="keywords" content="杜老师说,老师,讲师,运维,博客,技术,微软,思科,红帽,服务,软件,图文,视频,单词,求职,面试,网站,搭建,网络,教程,说课,资">
        
    
    <script>
        main.load.js('/pandown@2.0.0', function () {
            pandown();
        });
    </script>
    <meta name="follow.it-verification-code" content="LlmddNY7dr0ZbV24UdUh"/>
    <meta name="360-site-verification" content="6e6223d4a72a81e520e67080db00fda6"/>
    <meta name="baidu-site-verification" content="codeva-Oz6pd5JcaV"/>
</head>
<body>

<div class="loading_page"><div class="loading_i center"></div><style>*{transition:none}.loading_i{visibility:visible}body{visibility:hidden}</style></div>
<header class="header card bg-blue" id="header">
    <div class="blog-logo">
        <a href="" class="logo">杜老师说</a>
    </div>
    <nav class="navbar">
        <ul class="menu">
            
                <li class="menu-item">
                    
                        <a href="" class="menu-item-link"></a>
                    
                        <a href="" class="menu-item-link" aria-label="" title=""></a>
                    
                </li>
            
            <li class="menu-item">
                <a href="javascript:main.dark.change()" class="menu-item-link" aria-label="暗色模式" title="暗色模式"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-fill" viewBox="0 0 16 16">
  <path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278"/>
</svg></a>
            </li>
        </ul>
    </nav>
</header>
<div class="msg" id="msg">
</div>
<main class="main w-full grid page-main no-side">
    


<article class="cm9 c9 p9 m12 block-input">
    
    <div class="card main">
        <div class="func-btns"><button title="进入阅读器" class="btn bg-clear" onclick="main.plugins.read()"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
  <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"></path>
</svg></button></div>
        <div class="title"><h1>解密&amp;quot;top&amp;quot;命令</h1></div>
        <div class="info">
            <div class="metas">
                
                    <span class="meta"></span>
                
            </div>
            <hr style="border-color: #ddd">
        </div>
        <div class="content" id="page">
            
                
            
            <hr />
<p>author: ''<br />
categories: 技术<br />
comments_data: []<br />
count:<br />
commentnum: 0<br />
favtimes: 3<br />
likes: 2<br />
sharetimes: 0<br />
viewnum: 10344<br />
date: '2013-11-23 21:15:00'<br />
editorchoice: false<br />
excerpt: 当对服务器的性能好奇时，我第一个想到的是&quot;top&quot;命令。top不是最好的，它不是一个长期的快照，但是它提供了服务器的一个不错的时间点快照，并且试着提供了告诉&quot;现在在发生什么？&quot;。不幸地，如果你没有深入了解不同显<br />
...<br />
fromurl: ''<br />
id: 2290<br />
islctt: true<br />
largepic: /data/attachment/album/201311/23/202423a2xaiu4o42g28uu2.png<br />
url: /article-2290-1.html<br />
pic: /data/attachment/album/201311/23/202423a2xaiu4o42g28uu2.png.thumb.jpg<br />
related: []<br />
reviewer: ''<br />
selector: ''<br />
summary: 当对服务器的性能好奇时，我第一个想到的是&quot;top&quot;命令。top不是最好的，它不是一个长期的快照，但是它提供了服务器的一个不错的时间点快照，并且试着提供了告诉&quot;现在在发生什么？&quot;。不幸地，如果你没有深入了解不同显<br />
...<br />
tags:</p>
<ul>
<li>Linux</li>
<li>top</li>
<li>命令</li>
<li>技巧</li>
<li>性能</li>
<li>服务器<br />
thumb: false<br />
title: 解密&quot;top&quot;命令<br />
titlepic: false<br />
translator: geekpi<br />
updated: '2013-11-23 21:15:00'</li>
</ul>
<hr />
<p>当对服务器的性能好奇时，我第一个想到的是&quot;top&quot;命令。top不是最好的，它不是一个长期的快照，但是它提供了服务器的一个不错的时间点快照，并且试着提供了告诉&quot;现在在发生什么？&quot;。不幸地，如果你没有深入了解不同显示域的意义，top的输出很容易被误解。</p>
<p>我不会完整解读top命令的<a href="http://www.linuxmanpages.com/man1/top1.php">man page</a>，当你和时间和意愿时，它一直在那等着你。我想要做的是指出一些我如何得到系统的快速概况的几个要点，并希望得到我接下来该怎么做的指示。top是我在故障排除时的第一站，但这很少会是我唯一的一站。</p>
<p><a href="http://www.flickr.com/photos/51724787@N06/10847969205/"><img src="/data/attachment/album/201311/23/202423a2xaiu4o42g28uu2.png" alt="" /></a></p>
<p>top命令我第一个看的是平均负载(load average)，它在右上角的屏幕上。平均负载的计算是基于统计搜集到的数量，但是通常可以认为是CPU被请求工作的数量。如果你的机器有一个单核CPU，那么平均负载是1就意味着机器满载的，并且有足够的能力在采样时间内完成任务。同样地，如果平均负载是2，那对单核的CPU是超载的，并需要2个可用内核才能在同样的采样时间内完成的要求的任务。随着8、16、32核的发售，我会在判断平均负载的时候就要注意一下。比如我需要去检测时，我会在top里按了数字&quot;1&quot;，这会列出所有CPU核列表，这样我就可以得到一个快速计数用于比较负载。</p>
<p>我检查的第二项是上面列出来的内容的第9列，标记着&quot;%CPU&quot;那个。对这一列的解释是很模糊的:</p>
<blockquote>
<p>任务所分享的上次屏幕刷新后的CPU运行时间，以全部的CPU时间百分比表示。在一个真正的SMP（多处理器）环境中，如果'Irix mode'是关闭的，top会在'Solaris mode'下运行，这里一个任务的cpu使用率将除以全部的CPU数量。你可以用'I'（大写字母I）这个交互命令触发Irix或Solaris模式。</p>
</blockquote>
<p>一点也不清楚，是么？这里要记住的主要意思是，如果单个进程由于某个原因或者其他因素占用率升高，那么他很有可能会以%CPU很高的数字显示在top的第一行。</p>
<p>我下一个注意到的区域是&quot;Cpu(s):&quot;这一行，在头部信息的中间。特别地，我对%us、sy%、%id、和%wa感兴趣，它们分别是用户进程、系统进程、空闲时间和CPU用于等待I/O流执行的时间比例。这个百分比应该接近于0，高于5%时需要密切关注。</p>
<p>最后，我想要看看系统up时间，这显示在左上角。如果我对一台服务器有疑问，并且这台服务器最近重启过，这里可能会发现一些什么，或许是一个守护进程没有启动。</p>
<p>这些检查只需要几秒。如果我只是观察，我可能让top运行几分钟并观察进程、CPU和负载，但是通常地我很快地进入和退出top。top是给你一个系统健康概况的那些奇妙系统管理员工具之一，并允许你快速诊断潜在的问题。</p>
<hr />
<p>via: <a href="http://ostatic.com/blog/deciphering-top">http://ostatic.com/blog/deciphering-top</a></p>
<p>译者：<a href="https://github.com/geekpi">geekpi</a> 校对：<a href="https://github.com/wxy">wxy</a></p>
<p>本文由 <a href="https://github.com/LCTT/TranslateProject">LCTT</a> 原创翻译，<a href="http://linux.cn/">Linux中国</a> 荣誉推出</p>

        </div>
    </div>
    <div class="share card">
<div class="copyright">
  <i class="fa-regular fa-copyright icon"></i>
  <div class="text">
    <p>博客内容遵循 署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</p> 
    <p>本文永久链接是：<a href=""></a></p>
  </div>
</div>
<div class="share">
  <a href="" class="link">
    <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M512 1024C229.228 1024 0 794.772 0 512S229.228 0 512 0s512 229.228 512 512-229.228 512-512 512z m54.545-565.02l-1.798-1.764a102.207 102.207 0 0 0-11.002-9.523l-35.453 35.442c4.176 2.446 8.078 5.393 11.605 8.92l1.866 1.763a58.277 58.277 0 0 1 0 82.341l-96.904 96.882a58.334 58.334 0 0 1-82.341 0l-1.832-1.798a58.243 58.243 0 0 1 0-82.306l43.816-43.828a149.675 149.675 0 0 1-10.866-58.732l-67.812 67.72c-41.836 41.825-41.836 110.251 0 152.053l1.787 1.798c41.836 41.79 110.228 41.79 152.052 0l96.882-96.916c41.757-41.825 41.757-110.25 0-152.052z m141.38-141.37l-1.82-1.797c-41.802-41.825-110.228-41.825-152.053 0l-96.882 96.916c-41.824 41.79-41.824 110.216 0 152.053l1.798 1.763c3.505 3.425 7.225 6.576 11.002 9.523l35.454-35.476a57.845 57.845 0 0 1-11.583-8.92l-1.798-1.763a58.311 58.311 0 0 1 0-82.375l96.905-96.882a58.197 58.197 0 0 1 82.284 0l1.798 1.797a58.277 58.277 0 0 1 0 82.341l-43.76 43.828c7.612 18.796 11.196 38.81 10.844 58.766l67.789-67.755c41.824-41.79 41.824-110.216 0.022-152.007z" p-id="4933" fill="#13227a"></path></svg>
  </a>
  <!--<a href="" class="wechart">
    <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M337.387283 341.82659c-17.757225 0-35.514451 11.83815-35.514451 29.595375s17.757225 29.595376 35.514451 29.595376 29.595376-11.83815 29.595376-29.595376c0-18.49711-11.83815-29.595376-29.595376-29.595375zM577.849711 513.479769c-11.83815 0-22.936416 12.578035-22.936416 23.6763 0 12.578035 11.83815 23.676301 22.936416 23.676301 17.757225 0 29.595376-11.83815 29.595376-23.676301s-11.83815-23.676301-29.595376-23.6763zM501.641618 401.017341c17.757225 0 29.595376-12.578035 29.595376-29.595376 0-17.757225-11.83815-29.595376-29.595376-29.595375s-35.514451 11.83815-35.51445 29.595375 17.757225 29.595376 35.51445 29.595376zM706.589595 513.479769c-11.83815 0-22.936416 12.578035-22.936416 23.6763 0 12.578035 11.83815 23.676301 22.936416 23.676301 17.757225 0 29.595376-11.83815 29.595376-23.676301s-11.83815-23.676301-29.595376-23.6763z" fill="#28C445" p-id="2404"></path><path d="M510.520231 2.959538C228.624277 2.959538 0 231.583815 0 513.479769s228.624277 510.520231 510.520231 510.520231 510.520231-228.624277 510.520231-510.520231-228.624277-510.520231-510.520231-510.520231zM413.595376 644.439306c-29.595376 0-53.271676-5.919075-81.387284-12.578034l-81.387283 41.433526 22.936416-71.768786c-58.450867-41.433526-93.965318-95.445087-93.965317-159.815029 0-113.202312 105.803468-201.988439 233.803468-201.98844 114.682081 0 216.046243 71.028902 236.023121 166.473989-7.398844-0.739884-14.797688-1.479769-22.196532-1.479769-110.982659 1.479769-198.289017 85.086705-198.289017 188.67052 0 17.017341 2.959538 33.294798 7.398844 49.572255-7.398844 0.739884-15.537572 1.479769-22.936416 1.479768z m346.265896 82.867052l17.757225 59.190752-63.630058-35.514451c-22.936416 5.919075-46.612717 11.83815-70.289017 11.83815-111.722543 0-199.768786-76.947977-199.768786-172.393063-0.739884-94.705202 87.306358-171.653179 198.289017-171.65318 105.803468 0 199.028902 77.687861 199.028902 172.393064 0 53.271676-34.774566 100.624277-81.387283 136.138728z" fill="#28C445" p-id="2405"></path></svg>
  </a>-->
  <a href="http://connect.qq.com/widget/shareqq/index.html?url=&title=&summary=" class="qq">
    <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M512 0C229.224296 0 0 229.224296 0 512s229.224296 512 512 512 512-229.224296 512-512S794.775704 0 512 0zM801.261037 668.86163c-21.731556 18.640593-49.948444-61.345185-54.006519-49.038222-9.879704 29.923556-14.506667 49.929481-43.633778 82.507852-1.554963 1.744593 33.659259 14.468741 43.633778 41.642667 9.557333 26.017185 28.141037 67.26163-93.487407 80.213333-71.35763 7.585185-122.936889-38.020741-128.075852-37.584593-9.53837 0.83437-5.290667 0-15.530667 0-8.38163 0-8.931556 0.606815-16.820148 0-2.161778-0.170667-25.884444 37.584593-131.963259 37.584593-82.223407 0-103.518815-51.749926-86.983111-80.213333 16.535704-28.463407 44.126815-36.750222 40.239407-41.263407-19.152593-22.186667-32.350815-45.909333-40.239407-67.356444-1.953185-5.347556-3.584-10.543407-4.873481-15.530667-2.996148-11.45363-25.884444 67.204741-50.460444 49.038222-24.576-18.166519-22.376296-64.417185-6.46637-108.676741 16.042667-44.619852 56.471704-87.589926 56.926815-97.071407 1.611852-35.290074-3.489185-41.14963 0-50.422519 7.755852-20.764444 17.199407-12.8 17.199407-23.570963 0-135.736889 100.864-245.76 225.28-245.76s225.28 110.042074 225.28 245.76c0 5.195852 13.520593 0 19.986963 23.570963 1.327407 4.873481 2.23763 23.665778 0.663704 50.422519-0.739556 12.856889 34.266074 28.501333 52.375704 97.071407C828.434963 628.754963 810.30637 661.105778 801.261037 668.86163z" fill="#68A5E1" p-id="1454"></path></svg>
  </a>
  <a href="https://t.me/share/url?url=&text=" class="telegram">
    <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M679.424 746.861714l84.004571-395.995428c7.424-34.852571-12.580571-48.566857-35.437714-40.009143l-493.714286 190.281143c-33.718857 13.129143-33.133714 32-5.705142 40.557714l126.281142 39.424 293.156572-184.576c13.714286-9.142857 26.294857-3.986286 16.018286 5.156571l-237.129143 214.272-9.142857 130.304c13.129143 0 18.870857-5.705143 25.709714-12.580571l61.696-59.428571 128 94.281142c23.442286 13.129143 40.009143 6.290286 46.299428-21.723428zM1024 512c0 282.843429-229.156571 512-512 512S0 794.843429 0 512 229.156571 0 512 0s512 229.156571 512 512z" fill="#1296db" p-id="2441"></path></svg>
  </a>
  <a href="http://service.weibo.com/share/share.php?url=&title=&summary=" class="weibo">
    <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M512 0C229.243259 0 0 229.224296 0 512s229.243259 512 512 512 512-229.224296 512-512S794.756741 0 512 0zM460.8 778.24c-175.312593 0-317.44-91.685926-317.44-204.781037 0-113.095111 212.859259-291.688296 294.286222-291.688296 34.133333 0 101.148444 25.448296 54.272 106.078815-3.280593 5.632 105.718519-46.895407 165.300148-12.344889 59.600593 34.550519 0 90.055111 0 96.218074 0 6.162963 119.656296 6.162963 119.656296 101.717333C776.874667 686.554074 636.112593 778.24 460.8 778.24zM710.276741 359.461926c-19.740444-23.438222-55.030519-17.957926-55.030519-17.957926-10.334815 0.094815-18.375111-7.111111-19.797333-16.839111-0.132741 0.986074-0.568889 1.896296-0.568889 2.901333l0-5.707852c0 1.005037 0.436148 1.85837 0.568889 2.806519 1.422222-9.993481 9.53837-18.792296 19.740444-20.138667 0 0 42.723556-11.681185 79.739259 21.636741 37.015704 33.317926 21.864296 88.405333 21.864296 88.405333-1.592889 11.207111-12.553481 20.15763-23.931259 20.15763L730.832593 434.725926c-11.396741 0-18.033778-8.779852-14.904889-19.607704C715.927704 415.099259 729.998222 382.900148 710.276741 359.461926zM850.62163 430.26963c-1.422222 15.587556-15.018667 28.273778-30.511407 30.01837 1.137778 0.132741 2.23763 0.341333 3.432296 0.341333l-6.97837 0c1.194667 0 2.37037-0.208593 3.546074-0.341333-15.018667-1.744593-25.125926-14.449778-22.945185-30.056296 0 0 16.70637-64.606815-23.988148-123.031704-40.713481-58.424889-128.208593-48.336593-128.208593-48.336593-15.54963-0.018963-28.596148-11.45363-30.245926-26.718815-0.113778 1.080889-0.32237 2.123852-0.32237 3.223704l0-6.409481c0 1.099852 0.208593 2.123852 0.32237 3.185778 1.649778-15.265185 14.506667-27.439407 30.340741-27.553185 0 0 91.098074-9.197037 158.947556 54.954667C871.860148 323.678815 850.62163 430.26963 850.62163 430.26963z" fill="#F56467" p-id="6191"></path><path d="M450.56 573.44m-20.48 0a1.08 1.08 0 1 0 40.96 0 1.08 1.08 0 1 0-40.96 0Z" fill="#F56467" p-id="6192"></path><path d="M403.303951 640.642444a1.62 2.159 0 1 0-25.964544-55.683072 1.62 2.159 0 1 0 25.964544 55.683072Z" fill="#F56467" p-id="6193"></path><path d="M432.033185 451.830519c-111.995259 15.739259-194.484148 87.514074-184.263111 160.331852 10.221037 72.817778 109.321481 119.087407 221.335704 103.329185 112.014222-15.739259 194.503111-87.514074 184.282074-160.331852C643.147852 482.360889 544.047407 436.091259 432.033185 451.830519zM448.398222 695.675259c-66.635852 12.951704-129.384296-21.560889-140.174222-77.065481-10.789926-55.523556 34.474667-111.009185 101.091556-123.960889 66.635852-12.970667 129.384296 21.541926 140.174222 77.065481C560.260741 627.218963 515.015111 682.723556 448.398222 695.675259z" fill="#F56467" p-id="6194"></path></svg>
  </a>
</div>
</div>

    <div class="card comments">
        
    </div>
</article>

    
</main>

</body>
</html>
